(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{9042:function(e,t,a){Promise.resolve().then(a.bind(a,8058))},6463:function(e,t,a){"use strict";var r=a(1169);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},3196:function(e,t,a){"use strict";a.d(t,{d4:function(){return r.useEffect}});var r=a(1196)},4492:function(e,t,a){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(1196),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,l=r.useEffect,i=r.useLayoutEffect,o=r.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!n(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=s({inst:{value:a,getSnapshot:t}}),n=r[0].inst,c=r[1];return i(function(){n.value=a,n.getSnapshot=t,d(n)&&c({inst:n})},[e,a,t]),l(function(){return d(n)&&c({inst:n}),e(function(){d(n)&&c({inst:n})})},[e]),o(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},5107:function(e,t,a){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(1196),n=a(554),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useSyncExternalStore,i=r.useRef,o=r.useEffect,d=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,r,n){var g=i(null);if(null===g.current){var u={hasValue:!1,value:null};g.current=u}else u=g.current;var x=l(e,(g=d(function(){function e(e){if(!o){if(o=!0,l=e,e=r(e),void 0!==n&&u.hasValue){var t=u.value;if(n(t,e))return i=t}return i=e}if(t=i,s(l,e))return t;var a=r(e);return void 0!==n&&n(t,a)?t:(l=e,i=a)}var l,i,o=!1,d=void 0===a?null:a;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,a,r,n]))[0],g[1]);return o(function(){u.hasValue=!0,u.value=x},[x]),c(x),x}},554:function(e,t,a){"use strict";e.exports=a(4492)},5006:function(e,t,a){"use strict";e.exports=a(5107)},8058:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(3619),n=a(1196),s=a(9002),l=a(2800),i=a(8588),o=a(6463),d=a(7702);let c=e=>e&&"A1"!==e&&"A2"!==e?"B1"===e||"B2"===e?"Intermediate":"C1"===e||"C2"===e?"Advanced":"Beginner":"Beginner",g=e=>{let t=c(e);return"Beginner"===t?"bg-green-100 text-green-800":"Intermediate"===t?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"};function u(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-5 w-5","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}function x(){var e;let{userId:t}=(0,i.a)(),a=(0,o.useSearchParams)().get("activity_id"),[x,h]=(0,n.useState)("today"),[m,b]=(0,n.useState)(null),y=e=>{b(e),setTimeout(()=>b(null),2500)},{speaking:p,speak:v}=function(){let[e,t]=(0,n.useState)(null);return{speaking:e,speak:e=>{if(e)try{let a=window.speechSynthesis;if(!a)return;t(e);let r=new SpeechSynthesisUtterance(e),n=a.getVoices().find(e=>/de(-|_)?DE/i.test(e.lang));n&&(r.voice=n),r.lang=(null==n?void 0:n.lang)||"de-DE",r.onend=()=>t(t=>t===e?null:t),r.onerror=()=>t(t=>t===e?null:t),a.cancel(),a.speak(r)}catch(e){t(null)}}}}(),[f,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)([]),[N,S]=(0,n.useState)(0),[C,E]=(0,n.useState)(!1),[I,P]=(0,n.useState)(!1),A=async()=>{try{E(!0);let e=await l.Z.get("/vocab/today/batch",{params:{count:10,level:"A1",user_id:t||void 0}});k(e.data||[]),S(0)}catch(e){console.error("Failed to load today words:",e)}finally{E(!1)}};(0,n.useEffect)(()=>{"today"===x&&A()},[x,t]);let _=j[N],D=()=>{N<j.length-1&&S(N+1)},B=async()=>{if(t&&_)try{P(!0),await l.Z.post("/vocab/save",{word:_.word,status:"learning"}),y("Saved to your vocab")}catch(e){}finally{P(!1)}},[L,R]=(0,n.useState)(""),[T,O]=(0,n.useState)(""),[Z,W]=(0,n.useState)(!1),[z,V]=(0,n.useState)([]),[q,F]=(0,n.useState)(null),H=async()=>{try{W(!0);let e=await l.Z.get("/vocab/search",{params:{q:L,level:T||void 0,limit:30}});V(e.data||[])}catch(e){console.error("Failed to search vocab:",e)}finally{W(!1)}};(0,n.useEffect)(()=>{"browse"===x&&H()},[x]);let U=async e=>{if(t)try{F(e.word),await l.Z.post("/vocab/save",{word:e.word,status:"learning"}),y('Added "'.concat(e.word,'"'))}catch(e){}finally{F(null)}},[K,M]=(0,n.useState)(""),[$,G]=(0,n.useState)(!1),[X,J]=(0,n.useState)([]),Q=async()=>{if(t)try{G(!0);let e=await l.Z.get("/vocab/list",{params:{status:K||void 0,limit:50}});J(e.data||[])}catch(e){console.error("Failed to load saved vocab:",e)}finally{G(!1)}};(0,n.useEffect)(()=>{"saved"===x&&Q()},[x,K,t]);let[Y,ee]=(0,n.useState)(!1),[et,ea]=(0,n.useState)(null),[er,en]=(0,n.useState)(!1),es=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{ee(!0);let t=await l.Z.post("/vocab/review/start",{size:e});ea({items:t.data.items||[],idx:0})}catch(e){}finally{ee(!1)}},el=(0,n.useMemo)(()=>et?et.items[et.idx]:null,[et]),[ei,eo]=(0,n.useState)(!1),[ed,ec]=(0,n.useState)([]),eg=e=>{if(!et||!el)return;let t=[...ed.filter(e=>e.id!==el.id),{id:el.id,grade:e}],a=et.idx+1;a>=et.items.length?eu(t):(ec(t),ea({...et,idx:a}),eo(!1))},eu=async e=>{try{if(en(!0),await l.Z.post("/vocab/review/submit",{results:e}),a&&!f)try{await d.oe(a,"vocabulary",50),w(!0),y("Review completed! +50 XP earned")}catch(e){y("Review submitted")}else y("Review submitted");ea(null),ec([])}catch(e){}finally{en(!1)}};return(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:[(0,r.jsx)(s.default,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"\uD83D\uDCDA Vocabulary Builder"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Expand your German vocabulary with smart learning"})]}),m&&(0,r.jsxs)("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"✓"}),(0,r.jsx)("span",{children:m})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8 overflow-x-auto",children:[(0,r.jsx)("button",{className:"px-6 py-3 rounded-lg font-medium transition-all ".concat("today"===x?"bg-indigo-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>h("today"),children:"Today"}),(0,r.jsx)("button",{className:"px-6 py-3 rounded-lg font-medium transition-all ".concat("browse"===x?"bg-indigo-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>h("browse"),children:"Browse"}),(0,r.jsx)("button",{className:"px-6 py-3 rounded-lg font-medium transition-all ".concat("saved"===x?"bg-indigo-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>h("saved"),children:"Saved"}),(0,r.jsx)("button",{className:"px-6 py-3 rounded-lg font-medium transition-all ".concat("review"===x?"bg-indigo-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>h("review"),children:"Review"})]}),"today"===x&&(0,r.jsxs)("div",{className:"space-y-6",children:[C&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden animate-pulse",children:[(0,r.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"h-4 w-3/4 rounded bg-gray-200 dark:bg-gray-700 mb-2"}),(0,r.jsx)("div",{className:"h-3 w-full rounded bg-gray-200 dark:bg-gray-700"})]})]},e))}),!C&&j.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((e,a)=>{let n=a<=N,s=a===N;return(0,r.jsxs)("div",{className:"relative rounded-xl shadow-lg overflow-hidden transition-all duration-300 ".concat(n?"opacity-100":"opacity-50"," ").concat(s?"ring-4 ring-indigo-500 scale-105":""),children:[!n&&(0,r.jsx)("div",{className:"absolute inset-0 backdrop-blur-md bg-white/30 dark:bg-gray-900/30 z-10 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDD12"}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Complete previous words"})]})}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-4 text-white relative",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(g(e.level)),children:c(e.level)}),(0,r.jsx)("button",{className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-all",onClick:()=>v(e.word),disabled:p===e.word||!n,children:(0,r.jsx)(u,{})})]}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-1",children:e.word}),(0,r.jsx)("p",{className:"text-white text-opacity-90",children:e.translation})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 uppercase font-semibold mb-1",children:"Example"}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("p",{className:"text-sm italic text-gray-700 dark:text-gray-300 flex-1",children:e.example||"No example available"}),e.example&&(0,r.jsx)("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-all flex-shrink-0",onClick:()=>v(e.example),disabled:p===e.example||!n,title:"Listen to example",children:(0,r.jsx)(u,{})})]})]}),s&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{className:"w-full px-4 py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-md",onClick:B,disabled:!t||I,children:I?"Saving...":"\uD83D\uDCBE Save Word"}),a<j.length-1&&(0,r.jsx)("button",{className:"w-full px-4 py-2.5 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-all",onClick:D,children:"Next →"})]}),!s&&n&&(0,r.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,r.jsx)("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"✓ Learned"})})]})]},a)})}),!C&&0===j.length&&(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No words available right now. Please try again later."})}),!t&&j.length>0&&(0,r.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg text-center",children:"Login to save words and track your progress"})]}),"browse"===x&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("input",{className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Search word or translation...",value:L,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&H()}),(0,r.jsxs)("select",{className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",value:T,onChange:e=>O(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"All Levels"}),(0,r.jsx)("option",{value:"A1",children:"Beginner (A1)"}),(0,r.jsx)("option",{value:"A2",children:"Beginner (A2)"}),(0,r.jsx)("option",{value:"B1",children:"Intermediate (B1)"}),(0,r.jsx)("option",{value:"B2",children:"Intermediate (B2)"}),(0,r.jsx)("option",{value:"C1",children:"Advanced (C1)"}),(0,r.jsx)("option",{value:"C2",children:"Advanced (C2)"})]}),(0,r.jsx)("button",{className:"px-8 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-lg",onClick:H,disabled:Z,children:Z?"Searching...":"Search"})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map((e,a)=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-4 relative",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(g(e.level)),children:c(e.level)}),(0,r.jsx)("button",{className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-all",onClick:()=>v(e.word),disabled:p===e.word,children:(0,r.jsx)(u,{})})]}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:e.word})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:e.translation}),e.example&&(0,r.jsxs)("div",{className:"flex items-start gap-2 mb-4",children:[(0,r.jsx)("p",{className:"text-sm italic text-gray-500 dark:text-gray-400 flex-1",children:e.example}),(0,r.jsx)("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-all flex-shrink-0",onClick:()=>v(e.example),disabled:p===e.example,title:"Listen to example",children:(0,r.jsx)(u,{})})]}),(0,r.jsx)("button",{className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 transition-all",disabled:!t||q===e.word,onClick:()=>U(e),children:q===e.word?"Adding...":"+ Add to Saved"})]})]},a))}),0===z.length&&!Z&&(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No results found. Try a different search term."})})]}),"saved"===x&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("select",{className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",value:K,onChange:e=>M(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"All Words"}),(0,r.jsx)("option",{value:"learning",children:"Learning"}),(0,r.jsx)("option",{value:"known",children:"Known"}),(0,r.jsx)("option",{value:"due",children:"Due for Review"})]}),(0,r.jsx)("button",{className:"px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 transition-all",onClick:Q,disabled:!t||$,children:$?"Loading...":"Refresh"})]})}),!t&&(0,r.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg",children:"Login to view your saved words"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(e=>{var t;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 p-4 relative",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(g(e.level)),children:c(e.level)}),(0,r.jsx)("button",{className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full transition-all",onClick:()=>v(e.word),disabled:p===e.word,children:(0,r.jsx)(u,{})})]}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:e.word})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-2",children:e.translation}),e.example&&(0,r.jsxs)("div",{className:"flex items-start gap-2 mb-3",children:[(0,r.jsx)("p",{className:"text-sm italic text-gray-500 dark:text-gray-400 flex-1",children:e.example}),(0,r.jsx)("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full transition-all flex-shrink-0",onClick:()=>v(e.example),disabled:p===e.example,title:"Listen to example",children:(0,r.jsx)(u,{})})]}),(null===(t=e.srs)||void 0===t?void 0:t.due)&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Due: ",new Date(e.srs.due).toLocaleDateString()]})]})]},e._id)})}),0===X.length&&!$&&t&&(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No saved words yet. Start adding words from the Browse tab!"})})]}),"review"===x&&(0,r.jsxs)("div",{className:"space-y-6",children:[!et&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Start a Review Session"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Practice your saved vocabulary with spaced repetition"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{className:"px-8 py-4 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-lg",onClick:()=>es(10),disabled:!t||Y,children:Y?"Starting...":"Start 10 Words"}),(0,r.jsx)("button",{className:"px-8 py-4 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 transition-all shadow-lg",onClick:()=>es(20),disabled:!t||Y,children:"Start 20 Words"})]}),!t&&(0,r.jsx)("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Login to start reviewing"})]}),et&&el&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Question ",et.idx+1," of ",et.items.length]}),(0,r.jsx)("div",{className:"w-full max-w-xs bg-gray-200 dark:bg-gray-700 rounded-full h-2 ml-4",children:(0,r.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat((et.idx+1)/et.items.length*100,"%")}})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:el.word}),(0,r.jsx)("button",{className:"p-3 bg-indigo-100 dark:bg-indigo-900 hover:bg-indigo-200 dark:hover:bg-indigo-800 rounded-full transition-all",onClick:()=>v(el.word),disabled:p===el.word,children:(0,r.jsx)(u,{})})]})]}),(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6",children:"fill_in"===el.prompt.mode?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg italic text-gray-700 dark:text-gray-300",children:el.prompt.prompt}),ei&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,r.jsxs)("p",{className:"text-green-800 dark:text-green-200",children:["Answer: ",(0,r.jsx)("span",{className:"font-bold",children:el.prompt.answer})]})})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4",children:el.prompt.prompt}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:null===(e=el.prompt.options)||void 0===e?void 0:e.map(e=>(0,r.jsx)("button",{className:"px-4 py-3 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-500 transition-all",onClick:()=>eo(!0),children:e},e))}),ei&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,r.jsxs)("p",{className:"text-green-800 dark:text-green-200",children:["Answer: ",(0,r.jsx)("span",{className:"font-bold",children:el.prompt.answer})]})})]})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{className:"w-full px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-all",onClick:()=>eo(!0),children:"Show Answer"}),(0,r.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"How well did you know this?"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2",children:[{grade:0,label:"Forgot",color:"bg-red-500"},{grade:1,label:"Hard",color:"bg-orange-500"},{grade:2,label:"OK",color:"bg-yellow-500"},{grade:3,label:"Good",color:"bg-lime-500"},{grade:4,label:"Easy",color:"bg-green-500"},{grade:5,label:"Perfect",color:"bg-emerald-500"}].map(e=>{let{grade:t,label:a,color:n}=e;return(0,r.jsx)("button",{className:"px-3 py-2 ".concat(n," text-white rounded-lg font-medium hover:opacity-90 disabled:opacity-50 transition-all text-sm"),onClick:()=>eg(t),disabled:er,children:a},t)})})]}),er&&(0,r.jsx)("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:"Submitting results..."})]})]})]})]})]})}},9002:function(e,t,a){"use strict";a.d(t,{default:function(){return l}});var r=a(3196),n=a(8588),s=a(6463);function l(){let{token:e}=(0,n.a)(),t=(0,s.useRouter)();return(0,r.d4)(()=>{try{let a=localStorage.getItem("token");e||a||t.replace("/login")}catch(a){e||t.replace("/login")}},[e,t]),null}},2800:function(e,t,a){"use strict";var r=a(8472),n=a(9641);let s=r.Z.create({baseURL:"http://localhost:8000/api/v1"});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),s.interceptors.response.use(e=>e,e=>{try{var t,a;let r=(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.detail)||(null==e?void 0:e.message)||"Something went wrong";(0,n.h)(String(r))}catch(e){}return Promise.reject(e)}),t.Z=s},7702:function(e,t,a){"use strict";a.d(t,{$3:function(){return u},$K:function(){return g},Bn:function(){return d},Hu:function(){return l},PH:function(){return i},cq:function(){return s},k$:function(){return o},oe:function(){return x},tN:function(){return c}});let r=a(357).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("token"),n=await fetch("".concat(r).concat(e),{...t,headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)},...t.headers}});if(!n.ok)throw Error((await n.json().catch(()=>({detail:"Request failed"}))).detail||"HTTP ".concat(n.status));return n.json()}async function s(){return n("/learning-paths")}async function l(e){return n("/learning-paths/".concat(e))}async function i(e){return n("/learning-paths/".concat(e,"/locations"))}async function o(e){return n("/learning-paths/locations/".concat(e))}async function d(e){return(await n("/learning-paths/locations/".concat(e,"/activities"))).activities||[]}async function c(){return n("/learning-paths/progress/summary")}async function g(){return n("/learning-paths/recommendations")}async function u(){return n("/learning-paths/challenges/daily")}async function x(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return n("/learning-paths/progress/activity-complete",{method:"POST",body:JSON.stringify({activity_id:e,activity_type:t,xp_earned:a})})}},8588:function(e,t,a){"use strict";let r;a.d(t,{a:function(){return x}});let n=e=>{let t;let a=new Set,r=(e,r)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),a.forEach(a=>a(t,e))}},n=()=>t,s={setState:r,getState:n,getInitialState:()=>l,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},l=t=e(r,n,s);return s},s=e=>e?n(e):n;var l=a(1196),i=a(5006);let{useDebugValue:o}=l,{useSyncExternalStoreWithSelector:d}=i,c=!1,g=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?s(e):e,a=(e,a)=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,a=arguments.length>2?arguments[2]:void 0;a&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let r=d(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a);return o(r),r})(t,e,a);return Object.assign(a,t),a},x=(r=e=>({token:localStorage.getItem("token"),userId:localStorage.getItem("user_id"),name:localStorage.getItem("user_name"),email:localStorage.getItem("user_email"),setAuth:(t,a)=>{localStorage.setItem("token",t),localStorage.setItem("user_id",a),e({token:t,userId:a})},setProfile:(t,a)=>{try{localStorage.setItem("user_name",t),localStorage.setItem("user_email",a)}catch(e){}e({name:t,email:a})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_email"),e({token:null,userId:null,name:null,email:null})}}))?u(r):u},9641:function(e,t,a){"use strict";a.d(t,{h:function(){return n},q:function(){return s}});let r=new Set;function n(e){if(e)for(let t of r)try{t(e)}catch(e){}}function s(e){return r.add(e),()=>{r.delete(e)}}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=9042)}),_N_E=e.O()}]);