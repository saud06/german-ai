(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{9342:function(e,t,r){Promise.resolve().then(r.bind(r,4296))},6463:function(e,t,r){"use strict";var a=r(1169);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},3196:function(e,t,r){"use strict";r.d(t,{d4:function(){return a.useEffect}});var a=r(1196)},4492:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(1196),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,c=a[1];return l(function(){n.value=r,n.getSnapshot=t,d(n)&&c({inst:n})},[e,r,t]),i(function(){return d(n)&&c({inst:n}),e(function(){d(n)&&c({inst:n})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},5107:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(1196),n=r(554),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useSyncExternalStore,l=a.useRef,o=a.useEffect,d=a.useMemo,c=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var u=l(null);if(null===u.current){var g={hasValue:!1,value:null};u.current=g}else g=u.current;var x=i(e,(u=d(function(){function e(e){if(!o){if(o=!0,i=e,e=a(e),void 0!==n&&g.hasValue){var t=g.value;if(n(t,e))return l=t}return l=e}if(t=l,s(i,e))return t;var r=a(e);return void 0!==n&&n(t,r)?t:(i=e,l=r)}var i,l,o=!1,d=void 0===r?null:r;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,r,a,n]))[0],u[1]);return o(function(){g.hasValue=!0,g.value=x},[x]),c(x),x}},554:function(e,t,r){"use strict";e.exports=r(4492)},5006:function(e,t,r){"use strict";e.exports=r(5107)},4296:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(3619),n=r(1196),s=r(9002),i=r(2800),l=r(8588),o=r(6463),d=r(7702);function c(){var e;let{userId:t}=(0,l.a)(),r=(0,o.useSearchParams)().get("activity_id"),[c,u]=(0,n.useState)(!1),[g,x]=(0,n.useState)("setup"),[m,h]=(0,n.useState)(""),[p,b]=(0,n.useState)([]),[y,f]=(0,n.useState)(0),[v,k]=(0,n.useState)(new Map),[j,N]=(0,n.useState)(""),[w,S]=(0,n.useState)([]),[D,C]=(0,n.useState)(0),[_,q]=(0,n.useState)(0),[E,z]=(0,n.useState)([]),[A,I]=(0,n.useState)([]),[F,P]=(0,n.useState)(!1),[T,R]=(0,n.useState)(!1),[O,Q]=(0,n.useState)(0),[M,L]=(0,n.useState)(!1),[B,U]=(0,n.useState)({topic:"mixed",level:"intermediate",size:10}),[V,Z]=(0,n.useState)([]),[G,H]=(0,n.useState)([]),[J,K]=(0,n.useState)([]);(0,n.useEffect)(()=>{u(!0),W();let e=localStorage.getItem("quizState");if(e)try{let t=JSON.parse(e);t.stage&&"setup"!==t.stage&&t.quizId&&(x(t.stage),h(t.quizId),b(t.questions||[]),f(t.currentQuestionIndex||0),k(new Map(t.userAnswers||[])),U(t.config||B),t.results&&S(t.results),void 0!==t.score&&C(t.score),void 0!==t.percentage&&q(t.percentage),t.strengths&&z(t.strengths),t.weaknesses&&I(t.weaknesses))}catch(e){console.error("Failed to restore quiz state:",e)}},[]),(0,n.useEffect)(()=>{if(c&&"setup"!==g){let e={stage:g,quizId:m,questions:p,currentQuestionIndex:y,userAnswers:Array.from(v.entries()),config:B,results:w,score:D,percentage:_,strengths:E,weaknesses:A};localStorage.setItem("quizState",JSON.stringify(e))}},[c,g,m,p,y,v,B,w,D,_,E,A]);let W=async()=>{try{let e=await i.Z.get("/quiz-v2/topics");Z(e.data.topics||[]),H(e.data.levels||[]),K(e.data.question_types||[])}catch(e){console.error("Failed to load topics:",e)}},$=async()=>{x("loading"),f(0),k(new Map),N(""),Q(Date.now());try{let e=await i.Z.post("/quiz-v2/start",B);h(e.data.quiz_id),b(e.data.questions||[]),x("quiz")}catch(e){console.error("Failed to start quiz:",e),x("setup"),alert("Failed to start quiz. Please try again.")}},Y=e=>{N(e)},X=()=>{if(!j.trim())return;let e=new Map(v);e.set(p[y].id,j),k(e);let t=p[y];R("translation"===t.type&&t.acceptable_answers?t.acceptable_answers.some(e=>j.toLowerCase().trim()===e.toLowerCase().trim()):j.trim()===t.answer.trim()),P(!0)},ee=async()=>{x("loading");try{let e=Array.from(v.entries()).map(e=>{let[t,r]=e;return{question_id:t,user_answer:r,time_spent:0}}),t=await i.Z.post("/quiz-v2/submit",{quiz_id:m,answers:e});if(S(t.data.results||[]),C(t.data.score),q(t.data.percentage),z(t.data.strengths||[]),I(t.data.weaknesses||[]),x("results"),r&&t.data.score)try{let e=Math.round(t.data.percentage);await d.oe(r,"quiz",e)}catch(e){console.error("Failed to mark activity complete:",e)}}catch(e){console.error("Failed to submit quiz:",e),x("quiz"),alert("Failed to submit quiz. Please try again.")}},et=()=>{localStorage.removeItem("quizState"),x("setup"),h(""),b([]),f(0),k(new Map),N(""),S([]),P(!1)};if(!c)return null;let er=p[y],ea=v.size,en=p.length>0?ea/p.length*100:0;return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-900",children:[(0,a.jsx)(s.default,{}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"\uD83C\uDFAF German Quiz Challenge"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test your German skills with AI-powered questions"})]}),"setup"===g&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Configure Your Quiz"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Choose Topic"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:V.map(e=>(0,a.jsxs)("button",{onClick:()=>U({...B,topic:e.id}),className:"p-4 rounded-xl border-2 transition-all ".concat(B.topic===e.id?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900 dark:border-indigo-400":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600"),children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Difficulty Level"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:G.map(e=>(0,a.jsxs)("button",{onClick:()=>U({...B,level:e.id}),className:"p-4 rounded-xl border-2 transition-all ".concat(B.level===e.id?"border-green-600 bg-green-50 dark:bg-green-900 dark:border-green-400":"border-gray-200 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-600"),children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white capitalize",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Number of Questions: ",(0,a.jsx)("span",{className:"text-indigo-600 font-bold",children:B.size})]}),(0,a.jsx)("input",{type:"range",min:"5",max:"20",value:B.size,onChange:e=>U({...B,size:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"5 (Quick)"}),(0,a.jsx)("span",{children:"20 (Challenge)"})]})]}),(0,a.jsx)("button",{onClick:$,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-indigo-700 hover:to-purple-700 transform hover:scale-105 transition-all shadow-lg",children:"\uD83D\uDE80 Start Quiz"})]}),"loading"===g&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-12 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Generating your quiz with AI..."})]}),"quiz"===g&&er&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:et,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"← Back to Setup"}),(0,a.jsxs)("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Question ",y+1," of ",p.length]}),(0,a.jsxs)("span",{className:"text-sm font-bold text-indigo-600",children:[Math.round(en),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:"".concat(en,"%")}})})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsxs)("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded-full text-xs font-medium",children:["mcq"===er.type&&"☑️ Multiple Choice","fill_blank"===er.type&&"✍️ Fill in the Blank","translation"===er.type&&"\uD83C\uDF10 Translation","sentence_order"===er.type&&"\uD83E\uDDE9 Sentence Building","listening"===er.type&&"\uD83C\uDFA7 Listening","reading"===er.type&&"\uD83D\uDCD6 Reading Comprehension","speaking"===er.type&&"\uD83C\uDFA4 Speaking"]}),er.skills&&er.skills.length>0&&(0,a.jsx)("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded-full text-xs font-medium",children:er.skills[0]})]}),(0,a.jsxs)("div",{className:"mb-6",children:["mcq"===er.type&&(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:er.question}),"fill_blank"===er.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:er.sentence}),er.hint&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:["\uD83D\uDCA1 Hint: ",er.hint]})]}),"translation"===er.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Translate to German:"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:er.english})]}),"sentence_order"===er.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Arrange these words in the correct order:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:null===(e=er.scrambled_words)||void 0===e?void 0:e.map((e,t)=>(0,a.jsx)("span",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg font-medium",children:e},t))})]}),"listening"===er.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-6 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"\uD83C\uDFA7 Listen to the audio:"}),(0,a.jsx)("button",{onClick:()=>{let e=new SpeechSynthesisUtterance(er.audio_text);e.lang="de-DE",e.rate=.85,window.speechSynthesis.speak(e)},className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-6 rounded-xl transition-all flex items-center justify-center gap-2",children:"\uD83D\uDD0A Play Audio"})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:er.question})]}),"reading"===er.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/30 rounded-xl p-6 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"\uD83D\uDCD6 Read the passage:"}),(0,a.jsx)("p",{className:"text-lg text-gray-900 dark:text-white leading-relaxed",children:er.passage})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:er.question})]}),"speaking"===er.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-6 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"\uD83C\uDFA4 Speaking Practice:"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:er.prompt})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic mb-4",children:"\uD83D\uDCA1 Type what you would say, or use the microphone button to record"})]})]}),!F&&(0,a.jsxs)("div",{className:"space-y-4",children:["mcq"===er.type&&er.options&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:er.options.map((e,t)=>(0,a.jsx)("button",{onClick:()=>Y(e),className:"p-4 rounded-xl border-2 text-left transition-all ".concat(j===e?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900 dark:border-indigo-400":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600"),children:(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e})},t))}),("listening"===er.type||"reading"===er.type)&&er.options&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:er.options.map((e,t)=>(0,a.jsx)("button",{onClick:()=>Y(e),className:"p-4 rounded-xl border-2 text-left transition-all ".concat(j===e?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900 dark:border-indigo-400":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600"),children:(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e})},t))}),("fill_blank"===er.type||"translation"===er.type||"sentence_order"===er.type)&&(0,a.jsx)("input",{type:"text",value:j,onChange:e=>Y(e.target.value),onKeyPress:e=>"Enter"===e.key&&X(),placeholder:"Type your answer here...",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:border-indigo-600 focus:ring-2 focus:ring-indigo-200 dark:bg-gray-700 dark:text-white text-lg",autoFocus:!0}),"speaking"===er.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:j,onChange:e=>Y(e.target.value),onKeyPress:e=>"Enter"===e.key&&X(),placeholder:"Type your answer here...",className:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:border-indigo-600 focus:ring-2 focus:ring-indigo-200 dark:bg-gray-700 dark:text-white text-lg",autoFocus:!0}),(0,a.jsx)("button",{onClick:()=>{if(M){L(!1);return}L(!0);let e=new window.webkitSpeechRecognition;e.lang="de-DE",e.continuous=!1,e.interimResults=!1,e.onresult=e=>{Y(e.results[0][0].transcript),L(!1)},e.onerror=()=>{L(!1)},e.onend=()=>{L(!1)},e.start()},className:"px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2 ".concat(M?"bg-red-600 hover:bg-red-700 text-white animate-pulse":"bg-green-600 hover:bg-green-700 text-white"),children:M?"⏹️ Stop":"\uD83C\uDFA4 Record"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"\uD83D\uDCA1 Click the microphone to record your voice, or type your answer"})]}),(0,a.jsx)("button",{onClick:X,disabled:!j.trim(),className:"w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all",children:"Check Answer"})]}),F&&(0,a.jsxs)("div",{className:"p-6 rounded-xl ".concat(T?"bg-green-50 dark:bg-green-900 border-2 border-green-500":"bg-red-50 dark:bg-red-900 border-2 border-red-500"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"text-3xl",children:T?"✅":"❌"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:T?"Correct!":"Not quite right"}),!T&&(0,a.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Correct answer: ",(0,a.jsx)("span",{className:"font-bold",children:er.answer})]})]})]}),er.explanation&&(0,a.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["\uD83D\uDCA1 ",er.explanation]}),(0,a.jsx)("button",{onClick:()=>{P(!1),N(""),y<p.length-1?f(y+1):ee()},className:"w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-indigo-700 transition-all",children:y<p.length-1?"Next Question →":"See Results \uD83C\uDF89"})]})]})]}),"results"===g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-xl p-8 text-white text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,a.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Complete!"}),(0,a.jsxs)("div",{className:"text-6xl font-bold mb-2",children:[_,"%"]}),(0,a.jsxs)("p",{className:"text-xl mb-4",children:[D," out of ",p.length," correct"]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg px-4 py-2",children:[(0,a.jsx)("div",{className:"text-sm opacity-80",children:"Time"}),(0,a.jsxs)("div",{className:"font-bold",children:[Math.round((Date.now()-O)/1e3),"s"]})]}),(0,a.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg px-4 py-2",children:[(0,a.jsx)("div",{className:"text-sm opacity-80",children:"Accuracy"}),(0,a.jsxs)("div",{className:"font-bold",children:[_,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-green-600 dark:text-green-400 mb-3",children:"\uD83D\uDCAA Strengths"}),(0,a.jsx)("div",{className:"space-y-2",children:E.map((e,t)=>(0,a.jsx)("div",{className:"px-3 py-2 bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-lg",children:e},t))})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 mb-3",children:"\uD83D\uDCDA Areas to Improve"}),(0,a.jsx)("div",{className:"space-y-2",children:A.map((e,t)=>(0,a.jsx)("div",{className:"px-3 py-2 bg-orange-50 dark:bg-orange-900 text-orange-700 dark:text-orange-300 rounded-lg",children:e},t))})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"\uD83D\uDCCA Detailed Results"}),(0,a.jsx)("div",{className:"space-y-3",children:w.map((e,t)=>(0,a.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(e.correct?"border-green-200 bg-green-50 dark:bg-green-900 dark:border-green-700":"border-red-200 bg-red-50 dark:bg-red-900 dark:border-red-700"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:e.correct?"✅":"❌"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:["Question ",t+1]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Your answer: ",(0,a.jsx)("span",{className:"font-medium",children:e.user_answer||"(no answer)"})]}),!e.correct&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Correct answer: ",(0,a.jsx)("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.correct_answer})]}),e.explanation&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 italic",children:["\uD83D\uDCA1 ",e.explanation]})]})]})},t))})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:et,className:"flex-1 bg-indigo-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-indigo-700 transition-all",children:"\uD83D\uDD04 Try Again"}),(0,a.jsx)("button",{onClick:et,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white font-bold py-3 px-6 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all",children:"\uD83D\uDCDD New Quiz"})]})]})]})]})}},9002:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var a=r(3196),n=r(8588),s=r(6463);function i(){let{token:e}=(0,n.a)(),t=(0,s.useRouter)();return(0,a.d4)(()=>{try{let r=localStorage.getItem("token");e||r||t.replace("/login")}catch(r){e||t.replace("/login")}},[e,t]),null}},2800:function(e,t,r){"use strict";var a=r(8472),n=r(9641);let s=a.Z.create({baseURL:"http://localhost:8000/api/v1"});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),s.interceptors.response.use(e=>e,e=>{try{var t,r;let a=(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail)||(null==e?void 0:e.message)||"Something went wrong";(0,n.h)(String(a))}catch(e){}return Promise.reject(e)}),t.Z=s},7702:function(e,t,r){"use strict";r.d(t,{$3:function(){return g},$K:function(){return u},Bn:function(){return d},Hu:function(){return i},PH:function(){return l},cq:function(){return s},k$:function(){return o},oe:function(){return x},tN:function(){return c}});let a=r(357).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("token"),n=await fetch("".concat(a).concat(e),{...t,headers:{"Content-Type":"application/json",...r&&{Authorization:"Bearer ".concat(r)},...t.headers}});if(!n.ok)throw Error((await n.json().catch(()=>({detail:"Request failed"}))).detail||"HTTP ".concat(n.status));return n.json()}async function s(){return n("/learning-paths")}async function i(e){return n("/learning-paths/".concat(e))}async function l(e){return n("/learning-paths/".concat(e,"/locations"))}async function o(e){return n("/learning-paths/locations/".concat(e))}async function d(e){return(await n("/learning-paths/locations/".concat(e,"/activities"))).activities||[]}async function c(){return n("/learning-paths/progress/summary")}async function u(){return n("/learning-paths/recommendations")}async function g(){return n("/learning-paths/challenges/daily")}async function x(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return n("/learning-paths/progress/activity-complete",{method:"POST",body:JSON.stringify({activity_id:e,activity_type:t,xp_earned:r})})}},8588:function(e,t,r){"use strict";let a;r.d(t,{a:function(){return x}});let n=e=>{let t;let r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},i=t=e(a,n,s);return s},s=e=>e?n(e):n;var i=r(1196),l=r(5006);let{useDebugValue:o}=i,{useSyncExternalStoreWithSelector:d}=l,c=!1,u=e=>e,g=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?s(e):e,r=(e,r)=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=arguments.length>2?arguments[2]:void 0;r&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let a=d(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(a),a})(t,e,r);return Object.assign(r,t),r},x=(a=e=>({token:localStorage.getItem("token"),userId:localStorage.getItem("user_id"),name:localStorage.getItem("user_name"),email:localStorage.getItem("user_email"),setAuth:(t,r)=>{localStorage.setItem("token",t),localStorage.setItem("user_id",r),e({token:t,userId:r})},setProfile:(t,r)=>{try{localStorage.setItem("user_name",t),localStorage.setItem("user_email",r)}catch(e){}e({name:t,email:r})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_email"),e({token:null,userId:null,name:null,email:null})}}))?g(a):g},9641:function(e,t,r){"use strict";r.d(t,{h:function(){return n},q:function(){return s}});let a=new Set;function n(e){if(e)for(let t of a)try{t(e)}catch(e){}}function s(e){return a.add(e),()=>{a.delete(e)}}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=9342)}),_N_E=e.O()}]);