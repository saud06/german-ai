(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[795],{503:function(e,t,r){Promise.resolve().then(r.bind(r,2017))},6463:function(e,t,r){"use strict";var a=r(1169);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6202:function(e,t,r){"use strict";r.d(t,{d4:function(){return a.useEffect},eJ:function(){return a.useState}});var a=r(1196)},2017:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(3619),s=r(6202),n=r(6463);function i(){let e=(0,n.useRouter)(),[t,r]=(0,s.eJ)([]),[i,o]=(0,s.eJ)(!0),[c,d]=(0,s.eJ)(""),[l,g]=(0,s.eJ)("all"),[u,x]=(0,s.eJ)({}),h=e=>e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());(0,s.d4)(()=>{m(),b()},[]);let m=async()=>{try{let t=localStorage.getItem("token");if(!t){e.push("/login");return}let a=await fetch("http://localhost:8000/api/v1/scenarios/",{headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok)throw Error("Failed to fetch scenarios");let s=await a.json();r(s.scenarios)}catch(e){d(e instanceof Error?e.message:"Failed to load scenarios")}finally{o(!1)}},b=async()=>{try{let e=localStorage.getItem("token");if(!e)return;let t=await fetch("http://localhost:8000/api/v1/scenarios/progress",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();x(e.progress||{})}}catch(e){console.error("Failed to fetch user progress:",e)}},p=t.filter(e=>"all"===l||e.difficulty===l),f=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=e=>{switch(e){case"restaurant":return"\uD83C\uDF7D️";case"hotel":return"\uD83C\uDFE8";case"shopping":return"\uD83D\uDED2";case"doctor":return"\uD83C\uDFE5";case"transport":return"\uD83D\uDE8C";default:return"\uD83C\uDFAD"}};return i?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading scenarios..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"mb-4 text-indigo-600 hover:text-indigo-800 flex items-center",children:"← Back to Dashboard"}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"\uD83C\uDFAD Life Simulation"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Practice German in real-world scenarios"})]}),(0,a.jsxs)("div",{className:"mb-6 flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>g("all"),className:"px-4 py-2 rounded-lg font-medium transition ".concat("all"===l?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"All"}),(0,a.jsx)("button",{onClick:()=>g("beginner"),className:"px-4 py-2 rounded-lg font-medium transition ".concat("beginner"===l?"bg-green-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Beginner"}),(0,a.jsx)("button",{onClick:()=>g("intermediate"),className:"px-4 py-2 rounded-lg font-medium transition ".concat("intermediate"===l?"bg-yellow-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Intermediate"}),(0,a.jsx)("button",{onClick:()=>g("advanced"),className:"px-4 py-2 rounded-lg font-medium transition ".concat("advanced"===l?"bg-red-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Advanced"})]}),c&&(0,a.jsx)("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(t=>{var r;return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>e.push("/scenarios/".concat(t._id)),children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6 text-white relative",children:[(null===(r=u[t._id])||void 0===r?void 0:r.completed)&&(0,a.jsx)("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:"✓ Completed"}),(0,a.jsx)("div",{className:"text-5xl mb-2",children:y(t.category)}),(0,a.jsx)("h3",{className:"text-2xl font-bold mb-1",children:t.name}),(0,a.jsx)("p",{className:"text-indigo-100 text-sm",children:t.title_en})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:t.description_en}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(f(t.difficulty)),children:t.difficulty.charAt(0).toUpperCase()+t.difficulty.slice(1)}),(0,a.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["⏱️ ",t.estimated_duration," min"]})]}),t.characters[0]&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["\uD83D\uDC64 ",t.characters[0].name]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h(t.characters[0].role)," • ",h(t.characters[0].personality)]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-4",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCCB ",t.objectives.length," objectives"]}),t.xp_reward&&(0,a.jsxs)("span",{className:"text-indigo-600 dark:text-indigo-400 font-bold",children:["⭐ +",t.xp_reward," XP"]})]}),(0,a.jsx)("button",{onClick:r=>{r.stopPropagation(),e.push("/scenarios/".concat(t._id))},className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition",children:"Start Scenario →"})]})]},t._id)})}),0===p.length&&!i&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No scenarios found for this difficulty level."})})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=503)}),_N_E=e.O()}]);