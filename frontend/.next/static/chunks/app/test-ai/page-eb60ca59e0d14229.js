(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{7984:function(e,s,t){Promise.resolve().then(t.bind(t,4912))},3266:function(e,s,t){"use strict";t.d(s,{d4:function(){return a.useEffect},eJ:function(){return a.useState},mT:function(){return a.useRef}});var a=t(1196)},4912:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(3619),r=t(3266),l=t(2800);function n(e){let{context:s="general conversation",scenario:t}=e,[n,i]=(0,r.eJ)([]),[d,c]=(0,r.eJ)(""),[o,m]=(0,r.eJ)(!1),[x,h]=(0,r.eJ)(!1),u=(0,r.mT)(null);(0,r.d4)(()=>{g()},[]),(0,r.d4)(()=>{p()},[n]);let g=async()=>{try{let e=await l.Z.get("/ai/status");h(e.data.ollama_available&&e.data.features.conversation)}catch(e){console.error("Failed to check AI status:",e),h(!1)}},p=()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},b=async()=>{if(!d.trim()||o)return;let e={role:"user",content:d,timestamp:new Date};i(s=>[...s,e]),c(""),m(!0);try{let e=n.slice(-6).map(e=>({role:e.role,content:e.content})),a=await l.Z.post("/ai/chat",{message:d,context:s,scenario:t,conversation_history:e}),r={role:"assistant",content:a.data.response,timestamp:new Date};i(e=>[...e,r])}catch(s){var a,r;console.error("Chat error:",s);let e={role:"assistant",content:(null===(r=s.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.detail)||"Sorry, I encountered an error. Please try again.",timestamp:new Date};i(s=>[...s,e])}finally{m(!1)}};return x?(0,a.jsxs)("div",{className:"flex flex-col h-[600px] rounded-xl border bg-white dark:bg-zinc-900 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b dark:border-zinc-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"AI German Tutor"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s," ",t&&"• ".concat(t)]})]}),(0,a.jsx)("button",{onClick:()=>{i([])},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200 transition",children:"Clear"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===n.length?(0,a.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCAC"}),(0,a.jsx)("p",{children:"Start a conversation in German!"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:'Try: "Hallo! Wie geht es dir?"'})]}):n.map((e,s)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-gray-100"),children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,a.jsx)("span",{className:"text-xs opacity-70 mt-1 block",children:e.timestamp.toLocaleTimeString()})]})},s)),o&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-gray-100 dark:bg-zinc-800 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,a.jsx)("div",{ref:u})]}),(0,a.jsxs)("div",{className:"p-4 border-t dark:border-zinc-800",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:"Type your message in German...",className:"flex-1 px-4 py-2 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-zinc-800 dark:border-zinc-700",rows:2,disabled:o}),(0,a.jsx)("button",{onClick:b,disabled:o||!d.trim(),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition self-end",children:o?"...":"Send"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):(0,a.jsxs)("div",{className:"rounded-xl border bg-white dark:bg-zinc-900 p-8 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD16"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"AI Chat Not Available"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The AI conversation feature is currently disabled or Ollama is not running."}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 space-y-1",children:[(0,a.jsx)("p",{children:"To enable AI chat:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[(0,a.jsx)("li",{children:"Ensure Ollama container is running"}),(0,a.jsxs)("li",{children:["Pull the model: ",(0,a.jsx)("code",{className:"bg-gray-100 dark:bg-zinc-800 px-2 py-1 rounded",children:"docker exec german_ollama ollama pull mistral:7b"})]}),(0,a.jsxs)("li",{children:["Set ",(0,a.jsx)("code",{className:"bg-gray-100 dark:bg-zinc-800 px-2 py-1 rounded",children:"ENABLE_AI_CONVERSATION=true"})," in .env"]}),(0,a.jsx)("li",{children:"Restart the backend"})]})]})]})}function i(){var e;let[s,t]=(0,r.eJ)(null),[l,i]=(0,r.eJ)({whisper:!1,piper:!1,ollama:!1}),[d,c]=(0,r.eJ)(null),[o,m]=(0,r.eJ)(!0),[x,h]=(0,r.eJ)(!1),[u,g]=(0,r.eJ)(""),[p,b]=(0,r.eJ)(!1),y=(0,r.mT)(null),j=(0,r.mT)([]),[v,f]=(0,r.eJ)(!1);(0,r.d4)(()=>{N(),w();let e=setInterval(N,1e4),s=setInterval(w,2e3);return()=>{clearInterval(e),clearInterval(s)}},[]);let N=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/ai/status");if(e.ok){let s=await e.json();t(s),i(e=>({...e,ollama:s.ollama_available}))}let s=await fetch("http://localhost:8000/api/v1/voice/status");if(s.ok){let e=await s.json();i(s=>({...s,whisper:e.whisper_available||!1,piper:e.piper_available||!1}))}}catch(e){console.error("Failed to fetch status:",e)}finally{m(!1)}},w=async()=>{try{let d=await fetch("http://localhost:8000/api/v1/analytics/metrics");if(d.ok){var e,s,t,a,r,l,n,i;let o=await d.json();c({cpu_percent:(null===(e=o.system)||void 0===e?void 0:e.cpu_percent)||0,memory_percent:(null===(s=o.system)||void 0===s?void 0:s.memory_percent)||0,memory_used_gb:(null===(t=o.system)||void 0===t?void 0:t.memory_used_gb)||0,memory_total_gb:(null===(a=o.system)||void 0===a?void 0:a.memory_total_gb)||0,memory_available_gb:(null===(r=o.system)||void 0===r?void 0:r.memory_available_gb)||0,disk_percent:(null===(l=o.system)||void 0===l?void 0:l.disk_percent)||0,uptime_seconds:(null===(n=o.system)||void 0===n?void 0:n.uptime_seconds)||0,gpu:null===(i=o.system)||void 0===i?void 0:i.gpu})}}catch(e){console.error("Failed to fetch system metrics:",e)}},k=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(e);y.current=s,j.current=[],s.ondataavailable=e=>{e.data.size>0&&j.current.push(e.data)},s.onstop=async()=>{let s=new Blob(j.current,{type:"audio/webm"});await _(s),e.getTracks().forEach(e=>e.stop())},s.start(),h(!0)}catch(e){console.error("Failed to start recording:",e),alert("Failed to access microphone. Please check permissions.")}},_=async e=>{b(!0),g("");try{let s=new FileReader;s.readAsDataURL(e),s.onloadend=async()=>{let e=s.result.split(",")[1],t=localStorage.getItem("token"),a=await fetch("http://localhost:8000/api/v1/voice/conversation",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({audio_base64:e})});if(a.ok){let e=await a.json();g('Transcribed: "'.concat(e.transcribed_text,'"\n\nAI Response: "').concat(e.ai_response_text,'"')),e.ai_response_audio&&new Audio("data:audio/wav;base64,".concat(e.ai_response_audio)).play()}else{let e=await a.json();g("Error: ".concat(e.detail||"Voice conversation failed"))}}}catch(e){console.error("Voice message error:",e),g("Error: Failed to process voice message")}finally{b(!1)}},D=e=>e?"bg-green-500":"bg-red-500",A=e=>e?"Available":"Unavailable",T=e=>e<50?"bg-green-500":e<80?"bg-yellow-500":"bg-red-500";return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-zinc-950 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83E\uDD16 AI Model Testing"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test AI models and monitor service status"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Ollama (AI)"}),(0,a.jsx)("span",{className:"h-3 w-3 rounded-full ".concat(D(l.ollama))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:A(l.ollama)}),s&&(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Host:"})," ",s.ollama_host]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Model:"})," ",s.ollama_model]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:"Features:"}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)("p",{children:["• Conversation: ",s.features.conversation?"✅":"❌"]}),(0,a.jsxs)("p",{children:["• Voice: ",s.features.voice?"✅":"❌"]}),(0,a.jsxs)("p",{children:["• Simulation: ",s.features.simulation?"✅":"❌"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Whisper (STT)"}),(0,a.jsx)("span",{className:"h-3 w-3 rounded-full ".concat(D(l.whisper))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:A(l.whisper)}),(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Service:"})," Speech-to-Text"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Port:"})," 9000"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Language:"})," German (de)"]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Piper (TTS)"}),(0,a.jsx)("span",{className:"h-3 w-3 rounded-full ".concat(D(l.piper))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:A(l.piper)}),(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Service:"})," Text-to-Speech"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Port:"})," 10200"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Voice:"})," de_DE-thorsten-high"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border p-4 mb-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"ℹ️ System Information"}),(0,a.jsxs)("div",{className:"text-sm space-y-1 text-gray-700 dark:text-gray-300",children:[(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Backend:"})," FastAPI running on http://localhost:8000"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Frontend:"})," Next.js running on http://localhost:3000"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Database:"})," MongoDB on localhost:27017"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Cache:"})," Redis on localhost:6379"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Auto-refresh:"})," Status updates every 10 seconds"]})]})]}),d&&(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"\uD83D\uDCCA Live System Metrics"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Updates every 2s"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"CPU Usage"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[d.cpu_percent.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(T(d.cpu_percent)),style:{width:"".concat(Math.min(d.cpu_percent,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"System RAM"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[d.memory_percent.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(T(d.memory_percent)),style:{width:"".concat(Math.min(d.memory_percent,100),"%")}})}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[d.memory_used_gb.toFixed(1),"GB / ",d.memory_total_gb.toFixed(1),"GB",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{className:"text-green-600 dark:text-green-400",children:[d.memory_available_gb.toFixed(1),"GB available"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"Disk Usage"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[d.disk_percent.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(T(d.disk_percent)),style:{width:"".concat(Math.min(d.disk_percent,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"System Uptime"}),(0,a.jsx)("span",{className:"text-sm font-mono",children:(e=d.uptime_seconds,"".concat(Math.floor(e/3600),"h ").concat(Math.floor(e%3600/60),"m"))})]}),(0,a.jsx)("div",{className:"flex items-center justify-center h-3",children:(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Since last boot"})})]})]}),d.gpu&&d.gpu.available&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\uD83C\uDFAE GPU Metrics (AI Model)"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold mb-2",children:"GPU Device"}),(0,a.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:d.gpu.name||"Unknown GPU"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Used for Ollama AI inference"})]}),d.gpu.memory_total_mb&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"GPU Memory"}),d.gpu.memory_percent&&(0,a.jsxs)("span",{className:"text-sm font-mono",children:[d.gpu.memory_percent.toFixed(1),"%"]})]}),d.gpu.memory_percent?(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(T(d.gpu.memory_percent)),style:{width:"".concat(Math.min(d.gpu.memory_percent,100),"%")}})}):(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Monitoring not available"}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[d.gpu.memory_used_mb?"".concat((d.gpu.memory_used_mb/1024).toFixed(1),"GB / "):"",(d.gpu.memory_total_mb/1024).toFixed(1),"GB VRAM"]})]}),void 0!==d.gpu.utilization_percent&&null!==d.gpu.utilization_percent&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"GPU Usage"}),(0,a.jsxs)("span",{className:"text-sm font-mono",children:[d.gpu.utilization_percent.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(T(d.gpu.utilization_percent)),style:{width:"".concat(Math.min(d.gpu.utilization_percent,100),"%")}})}),(0,a.jsx)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Compute utilization"})]})]}),!d.gpu.memory_percent&&!d.gpu.utilization_percent&&(0,a.jsx)("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:["ℹ️ ",(0,a.jsx)("strong",{children:"Note:"})," Real-time GPU monitoring is limited on macOS. GPU info shows device details only. For detailed GPU metrics, use Activity Monitor or third-party tools."]})})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"\uD83D\uDCA1 About High Memory Usage"}),(0,a.jsxs)("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:[(0,a.jsx)("strong",{children:"macOS Memory Management:"})," macOS uses available RAM for file caching to improve performance. High memory usage (70%+) is normal and doesn't mean you're running out of memory. The system automatically frees cached memory when apps need it.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"What matters:"}),' "Available" memory (shown in green above). As long as you have several GB available, your system is healthy. Only worry if available memory drops below 1-2GB.']})]})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\uD83D\uDCAC Test AI Conversation (Text)"}),(0,a.jsx)(n,{context:"general conversation"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"\uD83C\uDFA4 Test Voice Conversation"}),(0,a.jsxs)("button",{onClick:()=>f(!v),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm",children:[v?"Hide":"Show"," Voice Test"]})]}),v&&(0,a.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border p-6",children:l.whisper&&l.piper?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("button",{onClick:x?()=>{y.current&&x&&(y.current.stop(),h(!1))}:k,disabled:p,className:"w-24 h-24 rounded-full flex items-center justify-center text-white text-3xl transition-all ".concat(x?"bg-red-500 hover:bg-red-600 animate-pulse":p?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"),children:p?"⏳":x?"⏹️":"\uD83C\uDFA4"})}),(0,a.jsx)("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:p?"Processing your voice message...":x?"Recording... Click to stop":"Click microphone to start recording"}),u&&(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Response:"}),(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:u})]}),(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:["\uD83D\uDCA1 ",(0,a.jsx)("strong",{children:"Tip:"}),' Speak in German for best results. Try: "Hallo! Wie geht es dir?"']})})]}):(0,a.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-sm",children:"⚠️ Voice services not available. Please ensure Whisper (STT) and Piper (TTS) are running."}),(0,a.jsxs)("p",{className:"text-xs mt-2 text-gray-600 dark:text-gray-400",children:["Run: ",(0,a.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:"docker-compose up -d whisper piper"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"\uD83D\uDCA1 Testing Tips"}),(0,a.jsxs)("ul",{className:"text-sm space-y-1 text-gray-700 dark:text-gray-300",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Green status:"})," Service is running and available"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Red status:"})," Service is unavailable or not configured"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Test conversation:"}),' Try "Hallo! Wie geht es dir?"']}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Check features:"})," Ensure required features are enabled in backend .env"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Troubleshooting:"})," If services are down, check Docker containers"]})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800 p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"⚙️ Quick Actions"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:N,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm",children:"Refresh Status"}),(0,a.jsx)("a",{href:"http://localhost:8000/docs",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:"API Docs"}),(0,a.jsx)("a",{href:"http://localhost:8000/api/v1/analytics/health",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"Health Check"})]})]})]})})}},2800:function(e,s,t){"use strict";var a=t(8472),r=t(9641);let l=a.Z.create({baseURL:"http://localhost:8000/api/v1"});l.interceptors.request.use(e=>{{let s=localStorage.getItem("token");s&&(e.headers.Authorization="Bearer ".concat(s))}return e}),l.interceptors.response.use(e=>e,e=>{try{var s,t;let a=(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.detail)||(null==e?void 0:e.message)||"Something went wrong";(0,r.h)(String(a))}catch(e){}return Promise.reject(e)}),s.Z=l},9641:function(e,s,t){"use strict";t.d(s,{h:function(){return r},q:function(){return l}});let a=new Set;function r(e){if(e)for(let s of a)try{s(e)}catch(e){}}function l(e){return a.add(e),()=>{a.delete(e)}}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=7984)}),_N_E=e.O()}]);