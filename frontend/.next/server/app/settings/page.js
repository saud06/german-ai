(()=>{var e={};e.id=938,e.ids=[938],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2667:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>c}),s(5964),s(6886),s(1930),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),d=s(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5964)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/settings/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7026))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,6886)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,1930)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7026))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/saud06/CascadeProjects/german-ai/frontend/src/app/settings/page.tsx"],u="/settings/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4672:(e,t,s)=>{Promise.resolve().then(s.bind(s,140))},140:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(326),a=s(7577),n=s(2643),i=s(6591),d=s(1698),l=s(3092);function c(){let{userId:e,token:t,name:s,email:c,setProfile:o}=(0,i.a)(),[u,m]=(0,a.useState)(s||""),[x,p]=(0,a.useState)(c||""),[h,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[v,j]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[N,z]=(0,a.useState)(""),[k,q]=(0,a.useState)(!1),[P,_]=(0,a.useState)(null),S=u.trim().length<2?"Name must be at least 2 characters":null,C=x.trim()?/[^@\s]+@[^@\s]+\.[^@\s]+/.test(x.trim())?null:"Enter a valid email address":"Email is required",A=function(e){let t=0;e.length>=6&&t++,e.length>=10&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++;let s=Math.min(t,4);return{score:s,label:["Very weak","Weak","Okay","Good","Strong"][s],color:["bg-red-500","bg-orange-500","bg-yellow-500","bg-lime-600","bg-green-600"][s]}}(y),U=y&&N&&y!==N?"Passwords do not match":null;if(!t)return r.jsx(r.Fragment,{children:r.jsx(n.default,{})});async function E(e){if(e.preventDefault(),!S&&!C)try{g(!0);let e=await (0,l.DO)({name:u.trim(),email:x.trim()});o(e.name,e.email),f("Profile updated successfully"),setTimeout(()=>f(null),3e3)}catch(e){f(e?.response?.data?.detail||"Failed to update profile"),setTimeout(()=>f(null),4e3)}finally{g(!1)}}async function G(e){if(e.preventDefault(),y!==N){_("New password and confirmation do not match"),setTimeout(()=>_(null),3e3);return}try{q(!0),await (0,l.Cp)({current_password:v,new_password:y}),_("Password updated successfully"),j(""),w(""),z(""),setTimeout(()=>_(null),3e3)}catch(e){_(e?.response?.data?.detail||"Failed to update password"),setTimeout(()=>_(null),4e3)}finally{q(!1)}}return(0,r.jsxs)("div",{className:"max-w-2xl space-y-6",children:[r.jsx(n.default,{}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Settings"}),r.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Manage your account and app preferences."})]}),(0,r.jsxs)("section",{className:"rounded-md border p-4",children:[r.jsx("h2",{className:"font-medium mb-3",children:"Account"}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:u,onChange:e=>m(e.target.value),className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-zinc-900 "+(S?"border-red-400 focus-visible:ring-red-500":""),required:!0}),S&&r.jsx("div",{className:"mt-1 text-xs text-red-600",children:S})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:x,onChange:e=>p(e.target.value),className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-zinc-900 "+(C?"border-red-400 focus-visible:ring-red-500":""),required:!0}),C&&r.jsx("div",{className:"mt-1 text-xs text-red-600",children:C})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"submit",disabled:!!S||!!C||h,className:"inline-flex items-center justify-center rounded-md border px-3 py-2 text-sm font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-60",children:h?"Saving…":"Save changes"}),b&&r.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:b})]}),(0,r.jsxs)("div",{className:"text-xs text-zinc-500",children:["User ID: ",r.jsx("span",{className:"font-mono",children:e})]})]})]}),(0,r.jsxs)("section",{className:"rounded-md border p-4",children:[r.jsx("h2",{className:"font-medium mb-2",children:"Appearance"}),r.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Use the theme toggle in the top navigation to switch between light and dark mode."})]}),(0,r.jsxs)("section",{className:"rounded-md border p-4",children:[r.jsx("h2",{className:"font-medium mb-3",children:"Change password"}),(0,r.jsxs)("form",{onSubmit:G,className:"space-y-3 max-w-md",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"Current password"}),r.jsx("input",{type:"password",value:v,onChange:e=>j(e.target.value),className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-zinc-900",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"New password"}),r.jsx("input",{type:"password",value:y,onChange:e=>w(e.target.value),className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-zinc-900 "+(y&&y.length<6?"border-red-400 focus-visible:ring-red-500":""),required:!0,minLength:6}),y&&(0,r.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx("div",{className:"h-1.5 w-24 rounded bg-zinc-200 overflow-hidden",children:r.jsx("div",{className:`h-full ${A.color}`,style:{width:`${(A.score+1)*20}%`}})}),r.jsx("div",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:A.label})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:"Confirm new password"}),r.jsx("input",{type:"password",value:N,onChange:e=>z(e.target.value),className:"w-full rounded-md border px-3 py-2 bg-white dark:bg-zinc-900 "+(U?"border-red-400 focus-visible:ring-red-500":""),required:!0,minLength:6}),U&&r.jsx("div",{className:"mt-1 text-xs text-red-600",children:U})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"submit",disabled:k||!v||!y||y.length<6||!!U,className:"inline-flex items-center justify-center rounded-md border px-3 py-2 text-sm font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-60",children:k?"Updating…":"Update password"}),P&&r.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:P})]})]})]}),(0,r.jsxs)("section",{className:"rounded-md border p-4",children:[r.jsx("h2",{className:"font-medium mb-2",children:"About this app"}),(0,r.jsxs)("div",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-zinc-500",children:"App:"})," German AI Learner"]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-zinc-500",children:"Version:"})," ",d.J]})]})]})]})}},2643:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(4597),a=s(6591),n=s(5047);function i(){let{token:e}=(0,a.a)(),t=(0,n.useRouter)();return(0,r.useEffect)(()=>{try{e||t.replace("/login")}catch{e||t.replace("/login")}},[e,t]),null}},5964:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>d});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/saud06/CascadeProjects/german-ai/frontend/src/app/settings/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let d=(0,r.createProxy)(String.raw`/Users/saud06/CascadeProjects/german-ai/frontend/src/app/settings/page.tsx#default`)},7026:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(6621);let a=e=>[{type:"image/svg+xml",sizes:"any",url:(0,r.fillMetadataSegment)(".",e.params,"icon.svg")+"?d88cf511049578a4"}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,102,621,871],()=>s(2667));module.exports=r})();