(()=>{var e={};e.id=855,e.ids=[855],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6146:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>g,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(7710),t(5700),t(6886),t(1930),t(5866);var r=t(3191),s=t(8716),i=t(7922),n=t.n(i),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(a,d);let c=["",{children:["grammar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7710)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/grammar/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,5700)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/grammar/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7026))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6886)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,1930)),"/Users/saud06/CascadeProjects/german-ai/frontend/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7026))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/saud06/CascadeProjects/german-ai/frontend/src/app/grammar/page.tsx"],x="/grammar/page",g={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/grammar/page",pathname:"/grammar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4054:(e,a,t)=>{Promise.resolve().then(t.bind(t,589))},589:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var r=t(326),s=t(7577),i=t(2643),n=t(8069),l=t(6591),d=t(5047),c=t(9138);function o(){let{userId:e}=(0,l.a)(),a=(0,d.useSearchParams)().get("activity_id"),[t,o]=(0,s.useState)(""),[x,g]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)([]),[y,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)([]),[f,N]=(0,s.useState)(!1),[k,w]=(0,s.useState)(""),[C,D]=(0,s.useState)(""),[P,_]=(0,s.useState)(!1),[q,S]=(0,s.useState)(!1),[A,z]=(0,s.useState)(0),[G,$]=(0,s.useState)("check"),T=async()=>{u(!0);try{let a=e?"/grammar/check":"/grammar/check-public",r=await n.Z.post(a,{user_id:e||void 0,sentence:t});g(r.data)}catch(e){g(null)}finally{u(!1)}},E=async()=>{if(e&&x)try{b(!0),await n.Z.post("/grammar/save",{original:x.original,corrected:x.corrected,explanation:x.explanation,suggested_variation:x.suggested_variation}),await B();let e=A+1;if(z(e),a&&!q&&e>=3)try{await c.oe(a,"grammar",60),S(!0)}catch(e){console.error("Failed to mark activity complete:",e)}}catch{}finally{b(!1)}},B=async()=>{if(e)try{_(!0);let e=await n.Z.get("/grammar/history",{params:{limit:10}});p(e.data||[])}catch{}finally{_(!1)}},F=async()=>{try{N(!0);let e={size:10};k&&(e.level=k),C&&(e.track=C);let a=await n.Z.get("/grammar/examples",{params:e});v(a.data||[])}catch{v([])}finally{N(!1)}};return(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4",children:[r.jsx(i.default,{}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"text-4xl",children:"\uD83D\uDCDD"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Grammar Coach"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Perfect your German grammar with AI-powered corrections and explanations"})]}),r.jsx("div",{className:"max-w-6xl mx-auto mb-6",children:(0,r.jsxs)("div",{className:"flex gap-2 bg-white dark:bg-gray-800 p-1 rounded-lg shadow-sm",children:[r.jsx("button",{onClick:()=>$("check"),className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all ${"check"===G?"bg-indigo-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"✍️ Check Grammar"}),r.jsx("button",{onClick:()=>$("practice"),className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all ${"practice"===G?"bg-indigo-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"\uD83C\uDFAF Practice"}),r.jsx("button",{onClick:()=>$("history"),className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all ${"history"===G?"bg-indigo-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"\uD83D\uDCDA History"})]})}),"check"===G&&(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Enter your German sentence"}),r.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none transition-all",rows:4,value:t,onChange:e=>o(e.target.value),placeholder:"Type or paste your German sentence here..."}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("button",{className:"px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md flex items-center gap-2",onClick:T,disabled:m||!t.trim(),children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking..."]}):r.jsx(r.Fragment,{children:"\uD83D\uDD0D Check Grammar"})}),!e&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\uD83D\uDCA1 Login for personalized features"})]})]}),m&&(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse",children:[r.jsx("div",{className:"h-6 w-1/3 rounded bg-gray-200 dark:bg-gray-700 mb-4"}),r.jsx("div",{className:"h-4 w-full rounded bg-gray-200 dark:bg-gray-700 mb-3"}),r.jsx("div",{className:"h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700 mb-3"}),r.jsx("div",{className:"h-4 w-2/3 rounded bg-gray-200 dark:bg-gray-700"})]}),x&&("ok"===x.source?(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 rounded-xl shadow-lg p-6 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"text-4xl",children:"✅"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Perfect Grammar!"}),r.jsx("p",{className:"text-green-100 text-sm",children:"No errors detected"})]})]}),r.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 mb-3",children:r.jsx("p",{className:"text-lg font-medium",children:x.original})}),r.jsx("p",{className:"text-green-50",children:x.explanation||"Your sentence is grammatically correct. Great job!"})]}):(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-orange-600 p-6 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"text-4xl",children:"❌"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Grammar Error Found"}),r.jsx("p",{className:"text-red-100 text-sm",children:"Correction suggested below"})]})]}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-white text-opacity-80 mb-1",children:"✅ Corrected sentence:"}),r.jsx("p",{className:"text-xl font-medium",children:x.corrected})]})]}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-1",children:"\uD83D\uDCD6 Explanation"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:x.explanation})]}),x.suggested_variation&&(0,r.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900 dark:bg-opacity-20 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-purple-900 dark:text-purple-200 mb-1",children:"\uD83D\uDCAD Try this variation"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 italic",children:x.suggested_variation})]}),x.tips?.length>0&&(0,r.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900 dark:bg-opacity-20 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-200 mb-2",children:"\uD83D\uDCA1 Tips"}),r.jsx("ul",{className:"list-disc pl-5 space-y-1",children:x.tips.map((e,a)=>r.jsx("li",{className:"text-gray-700 dark:text-gray-300 text-sm",children:e},a))})]}),r.jsx("div",{className:"flex items-center gap-3 pt-2",children:e&&r.jsx("button",{className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-md",onClick:E,disabled:y,children:y?"Saving...":"\uD83D\uDCBE Save to History"})})]})]}))]}),"practice"===G&&r.jsx("div",{className:"max-w-6xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:"Practice Sentences"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Try checking these example sentences"})]}),r.jsx("button",{className:"px-4 py-2 bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded-lg font-medium hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-all flex items-center gap-2",onClick:F,disabled:f,children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r.jsx(r.Fragment,{children:"\uD83D\uDD04 Refresh"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Level:"}),(0,r.jsxs)("select",{className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:k,onChange:e=>w(e.target.value),children:[r.jsx("option",{value:"",children:"All Levels"}),r.jsx("option",{value:"A1",children:"A1 - Beginner"}),r.jsx("option",{value:"A2",children:"A2 - Elementary"}),r.jsx("option",{value:"B1",children:"B1 - Intermediate"}),r.jsx("option",{value:"B2",children:"B2 - Upper Intermediate"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Topic:"}),(0,r.jsxs)("select",{className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:C,onChange:e=>D(e.target.value),children:[r.jsx("option",{value:"",children:"All Topics"}),r.jsx("option",{value:"articles",children:"Articles (der/die/das)"}),r.jsx("option",{value:"verbs",children:"Verb Conjugation"}),r.jsx("option",{value:"nouns",children:"Nouns"}),r.jsx("option",{value:"cases",children:"Cases (Nominativ/Akkusativ/Dativ)"}),r.jsx("option",{value:"pluralization",children:"Pluralization"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.map((e,a)=>(0,r.jsxs)("button",{className:"text-left p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:shadow-md transition-all bg-gray-50 dark:bg-gray-700",onClick:()=>{o(e.text),$("check")},children:[r.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:e.text}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.source})]},a)),0===j.length&&!f&&r.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500 dark:text-gray-400",children:"No examples available. Try adjusting the filters."})]})]})}),"history"===G&&r.jsx("div",{className:"max-w-6xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:"Your Grammar History"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review your past corrections and progress"})]}),r.jsx("button",{className:"px-4 py-2 bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded-lg font-medium hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-all flex items-center gap-2",onClick:B,disabled:P,children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r.jsx(r.Fragment,{children:"\uD83D\uDD04 Refresh"})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[0===h.length&&!P&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-5xl mb-3",children:"��"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No grammar checks saved yet."}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Start checking sentences to build your history!"})]}),h.map((e,a)=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(e.ts).toLocaleDateString()," at ",new Date(e.ts).toLocaleTimeString()]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Original:"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.original})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Corrected:"}),r.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:e.corrected})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Explanation:"}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.explanation})]})]})]},a))]})]})})]})}},2643:(e,a,t)=>{"use strict";t.d(a,{default:()=>n});var r=t(4597),s=t(6591),i=t(5047);function n(){let{token:e}=(0,s.a)(),a=(0,i.useRouter)();return(0,r.useEffect)(()=>{try{e||a.replace("/login")}catch{e||a.replace("/login")}},[e,a]),null}},9138:(e,a,t)=>{"use strict";t.d(a,{$3:()=>g,$K:()=>x,Bn:()=>c,Hu:()=>n,PH:()=>l,cq:()=>i,k$:()=>d,oe:()=>m,tN:()=>o});let r=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1";async function s(e,a={}){let t=await fetch(`${r}${e}`,{...a,headers:{"Content-Type":"application/json",...a.headers}});if(!t.ok)throw Error((await t.json().catch(()=>({detail:"Request failed"}))).detail||`HTTP ${t.status}`);return t.json()}async function i(){return s("/learning-paths")}async function n(e){return s(`/learning-paths/${e}`)}async function l(e){return s(`/learning-paths/${e}/locations`)}async function d(e){return s(`/learning-paths/locations/${e}`)}async function c(e){return(await s(`/learning-paths/locations/${e}/activities`)).activities||[]}async function o(){return s("/learning-paths/progress/summary")}async function x(){return s("/learning-paths/recommendations")}async function g(){return s("/learning-paths/challenges/daily")}async function m(e,a,t=50){return s("/learning-paths/progress/activity-complete",{method:"POST",body:JSON.stringify({activity_id:e,activity_type:a,xp_earned:t})})}},5700:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var r=t(9510);function s(){return(0,r.jsxs)("main",{className:"space-y-4 animate-pulse",children:[r.jsx("div",{className:"h-8 w-2/3 rounded-md bg-gray-200 dark:bg-zinc-800"}),r.jsx("div",{className:"h-28 rounded-md border bg-gray-100 dark:bg-zinc-900"}),r.jsx("div",{className:"h-10 w-40 rounded-md bg-gray-200 dark:bg-zinc-800"})]})}},7710:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=t(8570);let s=(0,r.createProxy)(String.raw`/Users/saud06/CascadeProjects/german-ai/frontend/src/app/grammar/page.tsx`),{__esModule:i,$$typeof:n}=s;s.default;let l=(0,r.createProxy)(String.raw`/Users/saud06/CascadeProjects/german-ai/frontend/src/app/grammar/page.tsx#default`)},7026:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var r=t(6621);let s=e=>[{type:"image/svg+xml",sizes:"any",url:(0,r.fillMetadataSegment)(".",e.params,"icon.svg")+"?d88cf511049578a4"}]}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[948,102,621,871],()=>t(6146));module.exports=r})();